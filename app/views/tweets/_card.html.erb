<div class="card p-card">

  <%= link_to tweet.user do%>
    <div class="card__head">
      <div>
        <% if tweet.user.avatar.attached? %>
            <%= image_tag tweet.user.avatar, class: "index--img" %>
        <% else %>
            <%= image_tag("avatar_default.jpg", class: "index--img") %>
        <% end %>
      </div>

      <div>
        <div>
          <span class="name" ><%= tweet.user.name %></span>
          <span class=""username>@<%= tweet.user.username %></span>
        </div>

        <span class="times_ago">
          <%= time_ago_in_words(tweet.updated_at) %>
          ago 
        </span>
      </div>
    </div>
  <% end %>

  <div class="card_body">
    <%= link_to tweet do%>
      <div>
        <p class="text_body content-sm"><%= tweet.body %></p>
      </div>
    <% end %>


    <div class="flex justify-between">

      <div class="flex gap-4">
        <% if current_user == tweet.user %>
          <%= link_to image_tag("destroy.png"), tweet_path(tweet),
            data: {turbo_method: :delete} %>
          <%#= link_to edit_tweet_path(tweet) do%>
            <%#= image_tag("destroy.png")%>
          <%# end %>

          <%= link_to edit_tweet_path(tweet) do%>
            <%= image_tag("edit.png")%>
          <% end %>
        <% end %>
      </div>

      <div class="flex gap-4">
          <%= link_to new_tweet_path(tweet) do%>
            <%= image_tag("comment_icon.png")%>
          <% end %>

          <%= render "likes/form", like: tweet.likes.new(user:current_user) %>
      </div>

    </div>
  </div>
</div>
